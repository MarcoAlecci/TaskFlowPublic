 @hide exposed for unit tests 